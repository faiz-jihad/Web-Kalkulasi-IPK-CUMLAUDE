<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Smart IPK Dashboard — Prediksi Cumlaude BY FAIZ</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>Smart IPK Dashboard | Prediksi Cumlaude</header>

    <div class="app">
      <div class="row" style="margin-bottom: 14px">
        <div class="col narrow">
          <label for="jenjang"><strong>Jenjang</strong></label>
          <select id="jenjang" onchange="setTotalSemester(); saveData();">
            <option value="D3">D3 (6 sem)</option>
            <option value="S1" selected>S1 (8 sem)</option>
            <option value="S2">S2 (4 sem)</option>
            <option value="S3">S3 (6 sem)</option>
          </select>

          <div style="margin-top: 12px">
            <label><strong>Pengaturan</strong></label>
            <div class="small muted">
              Input IPS (0.00–4.00) dan SKS tiap semester yang sudah dijalani.
            </div>
          </div>

          <div style="margin-top: 12px">
            <button class="btn-primary" onclick="addSemester()">
              + Tambah Semester
            </button>
            <button class="btn-danger" onclick="removeSemester()">
              - Hapus Semester
            </button>
            <button class="btn-muted" onclick="resetData()">Reset</button>
          </div>

          <div style="margin-top: 14px">
            <label><strong>Simulasi Target IPK</strong></label>
            <div class="sim-row">
              <input
                id="simTarget"
                type="number"
                step="0.01"
                min="0"
                max="4"
                placeholder="Target"
                value="3.60"
                onchange="runSimulation()"
              />
              <button class="btn-primary" onclick="runSimulation()">
                Simulasikan
              </button>
            </div>
            <div
              id="simResult"
              class="insight muted"
              style="margin-top: 8px"
            ></div>
          </div>

          <div style="margin-top: 14px">
            <label><strong>Mini Chat — Tanya </strong></label>
            <div class="chat-area">
              <textarea
                id="chatInput"
                placeholder="Contoh: Bagaimana strategi agar IPS naik 0.3?"
              ></textarea>
              <div style="display: flex; gap: 8px; margin-top: 8px">
                <button class="btn-primary" onclick="askAI()">Tanya</button>
                <button class="btn-muted" onclick="clearChat()">Clear</button>
              </div>
              <div
                id="chatOutput"
                class="insight"
                style="margin-top: 8px"
              ></div>
            </div>
          </div>
        </div>

        <div class="col wide">
          <!-- semesters form -->
          <div id="semesters"></div>

          <div class="controls">
            <span class="small muted">Data disimpan otomatis di browser</span>
          </div>

          <div class="row" style="gap: 12px; margin-top: 8px">
            <div class="col" style="flex: 1">
              <div class="result-large" id="totalIPK">Total IPK: 0.00</div>
              <div id="predikat" class="insight">Predikat: -</div>
              <div
                id="targetNext"
                class="insight"
                style="margin-top: 6px"
              ></div>
            </div>

            <div class="col" style="flex: 1; min-width: 240px">
              <label><strong>Peluang Cumlaude</strong></label>
              <canvas id="gauge" style="height: 140px"></canvas>
              <div
                id="probText"
                class="insight"
                style="text-align: center; margin-top: 8px"
              ></div>
            </div>
          </div>

          <div style="margin-top: 12px" class="row">
            <div class="col">
              <label><strong>Grafik IPS per Semester</strong></label>
              <canvas id="ipsChart"></canvas>
            </div>
            <div class="col">
              <label><strong>Perkembangan IPK Kumulatif</strong></label>
              <canvas id="ipkChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <footer>
        Smart IPK Dashboard — Semmoga Sukses Cumlaude! | Developed by FAIZ
      </footer>
    </div>

    <script src="script.js"></script>
  </body>
</html>
